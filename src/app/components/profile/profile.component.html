<div class="profile-container">
    <div class="profile-card">
        <div class="profile-header">
            <h2 class="profile-title">User Profile</h2>
            <button *ngIf="!isEditing" class="btn-edit" (click)="onEdit()">Edit Profile</button>
        </div>

        <!-- Profile Image -->
        <img *ngIf="!isEditing" src="{{ profileData.profile_picture_url || 'https://via.placeholder.com/120' }}"
            alt="Profile Picture" class="profile-image" />

        <!-- Profile Form (when editing) -->
        <!-- Profile Form (when editing) -->
        <form *ngIf="isEditing" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" [(ngModel)]="profileData.name" name="name" class="form-input" required />
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" [(ngModel)]="profileData.email" name="email" class="form-input"
                    required />
            </div>

            <div class="form-group">
                <label for="phone_number">Phone Number</label>
                <input type="text" id="phone_number" [(ngModel)]="profileData.phone_number" name="phone_number"
                    class="form-input" />
            </div>

            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" id="dob" [(ngModel)]="profileData.dob" name="dob" class="form-input" required />
            </div>

            <div class="form-group">
                <label for="gender">Gender</label>
                <select id="gender" [(ngModel)]="profileData.gender" name="gender" class="form-input">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="pan_number">PAN Number</label>
                <input type="text" id="pan_number" [(ngModel)]="profileData.pan_number" name="pan_number"
                    class="form-input" required />
            </div>

            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" [(ngModel)]="profileData.address" name="address" class="form-input"
                    required />
            </div>

            <div class="form-group">
                <label for="profile_picture">Profile Picture</label>
                <input type="file" id="profile_picture" (change)="onFileChange($event)" />
            </div>

            <button type="submit" class="btn-save">Save</button>
        </form>


        <!-- Profile Display (when not editing) -->
        <div *ngIf="!isEditing" class="profile-display">
            <div class="profile-detail">
                <label>Name:</label>
                <span>{{ profileData.name || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Email:</label>
                <span>{{ profileData.email || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Phone Number:</label>
                <span>{{ profileData.phone_number || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Date of Birth:</label>
                <span>{{ profileData.dob || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Gender:</label>
                <span>{{ profileData.gender || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>PAN Number:</label>
                <span>{{ profileData.pan_number || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Address:</label>
                <span  *ngIf="profileData.address">{{ profileData.address.street || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>preferences:</label>
                <span>{{ profileData.preferences || '-' }}</span>
            </div>
            <div class="profile-detail">
                <label>Profile Picture:</label>
                <span>{{ profileData.profile_picture_url || '-' }}</span>
            </div>
        </div>
    </div>
</div>